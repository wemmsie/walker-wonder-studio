(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{DesignStudio:()=>Ne});var n={};e.r(n),e.d(n,{closeModal:()=>L,disableComplementaryArea:()=>v,enableComplementaryArea:()=>w,openModal:()=>M,pinItem:()=>j,setDefaultComplementaryArea:()=>_,setFeatureDefaults:()=>P,setFeatureValue:()=>N,toggleFeature:()=>C,unpinItem:()=>S});var o={};e.r(o),e.d(o,{getActiveComplementaryArea:()=>E,isComplementaryAreaLoading:()=>k,isFeatureActive:()=>R,isItemPinned:()=>F,isModalActive:()=>A});const s=window.wp.domReady;var i=e.n(s);const a=window.wp.plugins,r=window.wp.components,l=window.wp.data,d=window.wp.editor,c=window.wp.element,g=window.wp.i18n,p=window.wp.primitives,u=window.ReactJSXRuntime,m=(0,u.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(p.Path,{d:"M4 20h8v-1.5H4V20zM18.9 3.5c-.6-.6-1.5-.6-2.1 0l-7.2 7.2c-.4-.1-.7 0-1.1.1-.5.2-1.5.7-1.9 2.2-.4 1.7-.8 2.2-1.1 2.7-.1.1-.2.3-.3.4l-.6 1.1H6c2 0 3.4-.4 4.7-1.4.8-.6 1.2-1.4 1.3-2.3 0-.3 0-.5-.1-.7L19 5.7c.5-.6.5-1.6-.1-2.2zM9.7 14.7c-.7.5-1.5.8-2.4 1 .2-.5.5-1.2.8-2.3.2-.6.4-1 .8-1.1.5-.1 1 .1 1.3.3.2.2.3.5.2.8 0 .3-.1.9-.7 1.3z"})}),h=window.wp.deprecated;var y=e.n(h);const f=window.wp.preferences;function x(e){return["core/edit-post","core/edit-site"].includes(e)?(y()(`${e} interface scope`,{alternative:"core interface scope",hint:"core/edit-post and core/edit-site are merging.",version:"6.6"}),"core"):e}function b(e,t){return"core"===e&&"edit-site/template"===t?(y()("edit-site/template sidebar",{alternative:"edit-post/document",version:"6.6"}),"edit-post/document"):"core"===e&&"edit-site/block-inspector"===t?(y()("edit-site/block-inspector sidebar",{alternative:"edit-post/block",version:"6.6"}),"edit-post/block"):t}const _=(e,t)=>({type:"SET_DEFAULT_COMPLEMENTARY_AREA",scope:e=x(e),area:t=b(e,t)}),w=(e,t)=>({registry:n,dispatch:o})=>{t&&(e=x(e),t=b(e,t),n.select(f.store).get(e,"isComplementaryAreaVisible")||n.dispatch(f.store).set(e,"isComplementaryAreaVisible",!0),o({type:"ENABLE_COMPLEMENTARY_AREA",scope:e,area:t}))},v=e=>({registry:t})=>{e=x(e),t.select(f.store).get(e,"isComplementaryAreaVisible")&&t.dispatch(f.store).set(e,"isComplementaryAreaVisible",!1)},j=(e,t)=>({registry:n})=>{if(!t)return;e=x(e),t=b(e,t);const o=n.select(f.store).get(e,"pinnedItems");!0!==o?.[t]&&n.dispatch(f.store).set(e,"pinnedItems",{...o,[t]:!0})},S=(e,t)=>({registry:n})=>{if(!t)return;e=x(e),t=b(e,t);const o=n.select(f.store).get(e,"pinnedItems");n.dispatch(f.store).set(e,"pinnedItems",{...o,[t]:!1})};function C(e,t){return function({registry:n}){y()("dispatch( 'core/interface' ).toggleFeature",{since:"6.0",alternative:"dispatch( 'core/preferences' ).toggle"}),n.dispatch(f.store).toggle(e,t)}}function N(e,t,n){return function({registry:o}){y()("dispatch( 'core/interface' ).setFeatureValue",{since:"6.0",alternative:"dispatch( 'core/preferences' ).set"}),o.dispatch(f.store).set(e,t,!!n)}}function P(e,t){return function({registry:n}){y()("dispatch( 'core/interface' ).setFeatureDefaults",{since:"6.0",alternative:"dispatch( 'core/preferences' ).setDefaults"}),n.dispatch(f.store).setDefaults(e,t)}}function M(e){return{type:"OPEN_MODAL",name:e}}function L(){return{type:"CLOSE_MODAL"}}const E=(0,l.createRegistrySelector)(e=>(t,n)=>{n=x(n);const o=e(f.store).get(n,"isComplementaryAreaVisible");if(void 0!==o)return!1===o?null:t?.complementaryAreas?.[n]}),k=(0,l.createRegistrySelector)(e=>(t,n)=>{n=x(n);const o=e(f.store).get(n,"isComplementaryAreaVisible"),s=t?.complementaryAreas?.[n];return o&&void 0===s}),F=(0,l.createRegistrySelector)(e=>(t,n,o)=>{var s;o=b(n=x(n),o);const i=e(f.store).get(n,"pinnedItems");return null===(s=i?.[o])||void 0===s||s}),R=(0,l.createRegistrySelector)(e=>(t,n,o)=>(y()("select( 'core/interface' ).isFeatureActive( scope, featureName )",{since:"6.0",alternative:"select( 'core/preferences' ).get( scope, featureName )"}),!!e(f.store).get(n,o)));function A(e,t){return e.activeModal===t}const I=(0,l.combineReducers)({complementaryAreas:function(e={},t){switch(t.type){case"SET_DEFAULT_COMPLEMENTARY_AREA":{const{scope:n,area:o}=t;return e[n]?e:{...e,[n]:o}}case"ENABLE_COMPLEMENTARY_AREA":{const{scope:n,area:o}=t;return{...e,[n]:o}}}return e},activeModal:function(e=null,t){switch(t.type){case"OPEN_MODAL":return t.name;case"CLOSE_MODAL":return null}return e}}),D=(0,l.createReduxStore)("core/interface",{reducer:I,actions:n,selectors:o});(0,l.register)(D);const z="canvas",B=["nfd-onboarding","nfd-plugin"],T=window.wp.coreData;function V(){const{editEntityRecord:e}=(0,l.useDispatch)(T.store),{globalStylesId:t,settings:n,rawPalette:o}=(0,l.useSelect)(e=>{const{__experimentalGetCurrentGlobalStylesId:t,getEditedEntityRecord:n}=e(T.store),o=t?t():void 0,s=o?n("root","globalStyles",o):void 0;return{globalStylesId:o,settings:s?.settings,rawPalette:s?.settings?.color?.palette?.theme}},[]),s=(0,c.useMemo)(()=>o||[],[o]),i=(0,c.useMemo)(()=>({color:{palette:s}}),[s]),a=(0,c.useCallback)(o=>{t&&n&&e("root","globalStyles",t,{settings:{...n||{},...o}})},[e,t,n]),r=(0,c.useCallback)(e=>{t&&n&&a({color:{palette:{...n?.color?.palette||{},theme:e?.palette}}})},[t,n,a]),d=(0,c.useCallback)((e,o)=>{if(!t||!n)return;const i=s.map(t=>t.slug===e?{...t,color:o}:t);a({color:{palette:{...n?.color?.palette||{},theme:i}}})},[t,n,s,a]);return{settings:n,globalStyles:i,updatePalette:r,updateCustomColor:d}}const $=window.wp.apiFetch;var U=e.n($);async function O({type:e,referer:t="nfd-onboarding",page:n=1,perPage:o=10}){if(!e||!["color-palettes","font-pairs"].includes(e))throw new Error('Invalid type. Must be either "color-palettes" or "font-pairs"');try{const s=await U()({path:`/newfold-onboarding/v1/design/${e}?page=${n}&per_page=${o}`,headers:{Referer:t}});return{data:s.data||[],pagination:s.pagination||{total_items:0,total_pages:0,current_page:n,per_page:o}}}catch(t){throw console.error(`Failed to fetch ${e}:`,t),t}}function H({palette:e,isActive:t,onSelect:n}){const o=e.displayColors.map(e=>e.color);return(0,u.jsx)(r.Tooltip,{text:e.title,children:(0,u.jsx)("div",{className:"edit-site-global-styles-variations_item "+(t?"is-active":""),role:"button",onClick:()=>n(e.name),onKeyDown:t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),n(e.name))},tabIndex:"0","aria-label":e.title,"aria-current":t,children:(0,u.jsx)("div",{className:"edit-site-global-styles-variations_item-preview is-pill",children:(0,u.jsx)(r.__experimentalHStack,{spacing:0,justify:"flex-start",style:{height:"100%",width:"100%"},children:o.map((t,n)=>(0,u.jsx)("div",{style:{flexGrow:1,height:"100%",background:t}},`${e.name}-color-${n}`))})})})})}const G=(0,u.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(p.Path,{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"})}),q=(0,u.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(p.Path,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"})});function Y({currentPage:e,totalPages:t,onPageChange:n,isLoading:o}){return t<=1?null:(0,u.jsx)("div",{className:"nfd-design-studio-color-palette-pagination",children:(0,u.jsxs)(r.__experimentalHStack,{spacing:2,justify:"center",children:[(0,u.jsx)(r.Button,{icon:G,onClick:()=>n(e-1),disabled:1===e||o,className:"nfd-design-studio-color-palette-nav-button"}),(0,u.jsxs)("span",{className:"nfd-design-studio-color-palette-page-info",children:[e," / ",t]}),(0,u.jsx)(r.Button,{icon:q,onClick:()=>n(e+1),disabled:e===t||o,className:"nfd-design-studio-color-palette-nav-button"})]})})}function K({onChange:e,globalStyles:t}){const{colorPalettes:n,isLoading:o,currentPage:s,totalPages:i,loadPalettes:a,handlePageChange:l}=function(){const[e,t]=(0,c.useState)([]),[n,o]=(0,c.useState)(!0),[s,i]=(0,c.useState)(1),[a,r]=(0,c.useState)(1),l=async(e=1)=>{try{o(!0);const{data:n,pagination:s}=await O({type:"color-palettes",page:e,perPage:10});t(n),r(s.total_pages),i(s.current_page)}catch(e){console.error("Failed to load palettes:",e)}finally{o(!1)}};return{colorPalettes:e,isLoading:n,currentPage:s,totalPages:a,loadPalettes:l,handlePageChange:e=>{e>=1&&e<=a&&l(e)}}}(),{selectedPalette:d,handleSelect:g}=function(e,t,n){const[o,s]=(0,c.useState)("");return(0,c.useEffect)(()=>{if(e.length>0&&t){const i=(n=e,o=t,o?.color?.palette?n.find(e=>{const t=e.palette.map(e=>e.color),n=o.color.palette.map(e=>e.color);return t.length===n.length&&t.every((e,t)=>((e,t)=>{const n=e=>e.toLowerCase().replace(/\s/g,"");return n(e)===n(t)})(e,n[t]))}):null);i&&s(i.name)}var n,o},[t,e]),{selectedPalette:o,handleSelect:t=>{if(o===t)return;s(t);const i=e.find(e=>e.name===t);n?.(i)}}}(n,t,e);return(0,c.useEffect)(()=>{a()},[]),o&&0===n.length||0===n.length?null:(0,u.jsx)("div",{className:"nfd-design-studio-color-palette-wrapper",children:(0,u.jsxs)(r.__experimentalVStack,{spacing:3,children:[(0,u.jsx)(r.__experimentalGrid,{columns:2,spacing:2,children:n.map((e,t)=>(0,u.jsx)(H,{palette:e,isActive:d===e.name,onSelect:g},`${e.name} ${t}`))}),(0,u.jsx)(Y,{currentPage:s,totalPages:i,onPageChange:l,isLoading:o})]})})}const X={base:"#ffffff",contrast:"#000000",primary:"#1a4548",secondary:"#3e7276"},Z=[{slug:"base",label:(0,g.__)("Base","wp-module-onboarding")},{slug:"contrast",label:(0,g.__)("Contrast","wp-module-onboarding")},{slug:"primary",label:(0,g.__)("Primary","wp-module-onboarding")},{slug:"secondary",label:(0,g.__)("Secondary","wp-module-onboarding")}];function J(){const[e,t]=(0,c.useState)(null),n=(0,c.useRef)({}),{globalStyles:o,updateCustomColor:s}=V();return(0,u.jsx)(r.__experimentalHStack,{spacing:3,justify:"flex-start",children:Z.map(i=>{const a=((e,t)=>{const n=e?.find(e=>e.slug===t);return n?.color})(o?.color?.palette,i.slug)||X[i.slug];return(0,u.jsxs)("div",{className:"nfd-design-studio-color-option",children:[(0,u.jsx)(r.Tooltip,{text:i.label,children:(0,u.jsx)("div",{children:(0,u.jsx)(r.Button,{ref:e=>n.current[i.slug]=e,className:"nfd-design-studio-color-swatch",style:{backgroundColor:a},onClick:()=>{return n=i.slug,void t(e===n?null:n);var n},"aria-label":i.label,"aria-expanded":e===i.slug})})}),e===i.slug&&(0,u.jsx)(r.Popover,{anchor:n.current[i.slug],onClose:()=>t(null),position:"bottom",noArrow:!1,offset:8,className:"nfd-design-studio-color-popover",children:(0,u.jsx)("div",{className:"nfd-design-studio-color-picker-container",children:(0,u.jsx)(r.ColorPicker,{color:a,onChangeComplete:e=>s(i.slug,e.hex),enableAlpha:!1})})})]},i.slug)})})}const W=function({title:e,description:t,onBack:n}){return(0,u.jsxs)(r.__experimentalVStack,{spacing:0,children:[(0,u.jsx)(r.__experimentalView,{children:(0,u.jsx)(r.__experimentalSpacer,{marginBottom:0,paddingX:4,paddingY:3,children:(0,u.jsxs)(r.__experimentalHStack,{spacing:2,children:[(0,u.jsx)(r.Navigator.BackButton,{icon:(0,g.isRTL)()?q:G,size:"small",label:(0,g.__)("Back"),onClick:n}),(0,u.jsx)(r.__experimentalSpacer,{children:(0,u.jsx)(r.__experimentalHeading,{className:"edit-site-global-styles-header",level:2,size:13,children:e})})]})})}),t&&(0,u.jsx)("p",{className:"nfd-design-studio-header-description",children:t})]})};function Q(){const[e,t]=(0,c.useState)(!1),{settings:n,globalStyles:o,updatePalette:s,updateCustomColor:i}=V();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(W,{title:(0,g.__)("Colors","wp-module-onboarding"),description:(0,g.__)("Select a palette or customize individual colors.","wp-module-onboarding")}),(0,u.jsxs)("div",{className:"nfd-design-studio-sidebar__content",children:[(0,u.jsxs)("div",{className:"nfd-design-studio-sidebar__section",children:[(0,u.jsx)(r.__experimentalHeading,{level:3,children:(0,g.__)("Palette","wp-module-onboarding")}),(0,u.jsx)(K,{onChange:e=>{s(e),t(!1)},globalStyles:o})]}),(0,u.jsxs)("div",{className:"nfd-design-studio-sidebar__section",children:[(0,u.jsx)(r.ToggleControl,{label:(0,g.__)("Pick custom colors","wp-module-onboarding"),checked:e,onChange:e=>{t(e)},className:"nfd-design-studio-custom-palette-toggle",__nextHasNoMarginBottom:!0}),e&&(0,u.jsx)(J,{settings:n,onColorChange:i})]})]})]})}const ee=window.wp.blob,te=window.wp.blockEditor;function ne({imgSrc:e,alt:t,isTransient:n,canUserEdit:o,siteLogoId:s,onSelectLogo:i,onRemoveLogo:a,logoMediaDetails:l,mediaItemData:d}){const{width:c,height:p}=l?.sizes?.full||{};return(0,u.jsxs)("div",{className:"nfd-design-studio-logo-wrapper",children:[(0,u.jsxs)("div",{className:"nfd-design-studio-logo-container",children:[(0,u.jsx)("img",{src:e,alt:t||(0,g.__)("Site Logo","wp-module-onboarding"),className:"nfd-design-studio-logo-preview"}),n&&(0,u.jsx)("div",{className:"nfd-design-studio-logo-loading",children:(0,u.jsx)(r.Spinner,{})}),o&&(0,u.jsx)(te.MediaUploadCheck,{children:(0,u.jsx)("div",{className:"nfd-design-studio-logo-overlay",children:(0,u.jsx)(te.MediaUpload,{onSelect:i,allowedTypes:["image"],value:s,render:({open:e})=>(0,u.jsx)(r.Button,{variant:"primary",onClick:e,label:(0,g.__)("Replace logo","wp-module-onboarding"),className:"nfd-design-studio-logo-replace-button",children:(0,g.__)("Replace","wp-module-onboarding")})})})})]}),(0,u.jsxs)(r.__experimentalHStack,{justify:"space-between",className:"nfd-design-studio-logo-info",children:[(0,u.jsxs)("div",{className:"nfd-design-studio-logo-details",children:[(0,u.jsx)(r.__experimentalTruncate,{numberOfLines:1,children:l?.sizes?.full?.file||d?.filename||(0,g.__)("Current logo","wp-module-onboarding")}),c&&p&&(0,u.jsxs)("span",{className:"nfd-design-studio-logo-dimensions",children:[c," × ",p]})]}),o&&s&&(0,u.jsx)(r.Button,{variant:"tertiary",onClick:a,isDestructive:!0,className:"nfd-design-studio-logo-remove",children:(0,g.__)("Remove","wp-module-onboarding")})]})]})}const oe=(0,u.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(p.Path,{d:"M18.5 15v3.5H13V6.7l4.5 4.1 1-1.1-6.2-5.8-5.8 5.8 1 1.1 4-4v11.7h-6V15H4v5h16v-5z"})}),se=["image"];function ie({onSelect:e,canUserEdit:t}){return t?(0,u.jsx)(r.Placeholder,{className:"nfd-design-studio-logo-placeholder",instructions:(0,g.__)("Upload a logo to represent your brand.","wp-module-onboarding"),isColumnLayout:!0,children:(0,u.jsx)(te.MediaUploadCheck,{children:(0,u.jsx)(te.MediaUpload,{onSelect:e,allowedTypes:se,accept:"image/*",render:({open:e})=>(0,u.jsx)(r.Button,{variant:"primary",onClick:e,icon:oe,__next40pxDefaultSize:!0,children:(0,g.__)("Upload Logo","wp-module-onboarding")})})})}):(0,u.jsx)(r.Placeholder,{className:"nfd-design-studio-logo-placeholder",icon:"admin-appearance",label:(0,g.__)("Logo","wp-module-onboarding\t"),instructions:(0,g.__)("You don't have permission to change the site logo.","wp-module-onboarding")})}function ae(){const{siteLogoId:e,canUserEdit:t,mediaItemData:n,isRequestingMediaItem:o,temporaryURL:s,logoUrl:i,logoMediaDetails:a,alt:d,onSelectLogo:p,onRemoveLogo:m}=function(){const[e,t]=(0,c.useState)(),{siteLogoId:n,canUserEdit:o,mediaItemData:s,isRequestingMediaItem:i}=(0,l.useSelect)(e=>{const{canUser:t,getEntityRecord:n,getEditedEntityRecord:o}=e(T.store),s=t("update",{kind:"root",name:"site"}),i=s?o("root","site"):void 0,a=n("root","__unstableBase"),r=s?i?.site_logo:a?.site_logo,l=r&&e(T.store).getMedia(r,{context:"view"}),d=!!r&&!e(T.store).hasFinishedResolution("getMedia",[r,{context:"view"}]);return{siteLogoId:r,canUserEdit:s,url:a?.home,mediaItemData:l,isRequestingMediaItem:d}},[]),{editEntityRecord:a}=(0,l.useDispatch)(T.store),{alt_text:r,source_url:d,media_details:g}=null!=s?s:{},p=e=>{a("root","site",void 0,{site_logo:e})};return(0,c.useEffect)(()=>{d&&e&&t()},[d,e]),{siteLogoId:n,canUserEdit:o,mediaItemData:s,isRequestingMediaItem:i,temporaryURL:e,logoUrl:d,logoMediaDetails:g,alt:r,onSelectLogo:e=>{e&&(e.id||!e.url?p(e.id):t(e.url))},onRemoveLogo:()=>{p(null)}}}();let h;if(void 0===e||o)h=(0,u.jsx)(r.Placeholder,{className:"site-logo_placeholder",withIllustration:!0,children:(0,u.jsx)("span",{className:"components-placeholder__preview",children:(0,u.jsx)(r.Spinner,{})})});else if(i||s){const o=s||i,r=!!s&&(0,ee.isBlobURL)(s);h=(0,u.jsx)(ne,{imgSrc:o,alt:d,isTransient:r,canUserEdit:t,siteLogoId:e,onSelectLogo:p,onRemoveLogo:m,logoMediaDetails:a,mediaItemData:n})}else h=(0,u.jsx)(ie,{onSelect:p,canUserEdit:t});return(0,u.jsxs)("div",{className:"nfd-design-studio-screen-logo",children:[(0,u.jsx)(W,{title:(0,g.__)("Logo"),description:(0,g.__)("Your logo will appear in your site header. For best results, upload an image with a transparent background in PNG format.","wp-module-onboarding")}),(0,u.jsx)("div",{className:"nfd-design-studio-sidebar__content",children:(0,u.jsx)(r.PanelBody,{initialOpen:!0,children:h})})]})}const re=(0,u.jsx)(p.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)(p.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v8.4l-3-2.9c-.3-.3-.8-.3-1 0L11.9 14 9 12c-.3-.2-.6-.2-.8 0l-3.6 2.6V5c-.1-.3.1-.5.4-.5zm14 15H5c-.3 0-.5-.2-.5-.5v-2.4l4.1-3 3 1.9c.3.2.7.2.9-.1L16 12l3.5 3.4V19c0 .3-.2.5-.5.5z"})}),le=(0,u.jsx)(p.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)(p.Path,{d:"M17.2 10.9c-.5-1-1.2-2.1-2.1-3.2-.6-.9-1.3-1.7-2.1-2.6L12 4l-1 1.1c-.6.9-1.3 1.7-2 2.6-.8 1.2-1.5 2.3-2 3.2-.6 1.2-1 2.2-1 3 0 3.4 2.7 6.1 6.1 6.1s6.1-2.7 6.1-6.1c0-.8-.3-1.8-1-3zm-5.1 7.6c-2.5 0-4.6-2.1-4.6-4.6 0-.3.1-1 .8-2.3.5-.9 1.1-1.9 2-3.1.7-.9 1.3-1.7 1.8-2.3.7.8 1.3 1.6 1.8 2.3.8 1.1 1.5 2.2 2 3.1.7 1.3.8 2 .8 2.3 0 2.5-2.1 4.6-4.6 4.6z"})}),de=(0,u.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(p.Path,{d:"M6.9 7L3 17.8h1.7l1-2.8h4.1l1 2.8h1.7L8.6 7H6.9zm-.7 6.6l1.5-4.3 1.5 4.3h-3zM21.6 17c-.1.1-.2.2-.3.2-.1.1-.2.1-.4.1s-.3-.1-.4-.2c-.1-.1-.1-.3-.1-.6V12c0-.5 0-1-.1-1.4-.1-.4-.3-.7-.5-1-.2-.2-.5-.4-.9-.5-.4 0-.8-.1-1.3-.1s-1 .1-1.4.2c-.4.1-.7.3-1 .4-.2.2-.4.3-.6.5-.1.2-.2.4-.2.7 0 .3.1.5.2.8.2.2.4.3.8.3.3 0 .6-.1.8-.3.2-.2.3-.4.3-.7 0-.3-.1-.5-.2-.7-.2-.2-.4-.3-.6-.4.2-.2.4-.3.7-.4.3-.1.6-.1.8-.1.3 0 .6 0 .8.1.2.1.4.3.5.5.1.2.2.5.2.9v1.1c0 .3-.1.5-.3.6-.2.2-.5.3-.9.4-.3.1-.7.3-1.1.4-.4.1-.8.3-1.1.5-.3.2-.6.4-.8.7-.2.3-.3.7-.3 1.2 0 .6.2 1.1.5 1.4.3.4.9.5 1.6.5.5 0 1-.1 1.4-.3.4-.2.8-.6 1.1-1.1 0 .4.1.7.3 1 .2.3.6.4 1.2.4.4 0 .7-.1.9-.2.2-.1.5-.3.7-.4h-.3zm-3-.9c-.2.4-.5.7-.8.8-.3.2-.6.2-.8.2-.4 0-.6-.1-.9-.3-.2-.2-.3-.6-.3-1.1 0-.5.1-.9.3-1.2s.5-.5.8-.7c.3-.2.7-.3 1-.5.3-.1.6-.3.7-.6v3.4z"})});function ce({icon:e,children:t,...n}){return(0,u.jsxs)(r.__experimentalItem,{...n,children:[e&&(0,u.jsxs)(r.__experimentalHStack,{justify:"flex-start",children:[(0,u.jsx)(r.Icon,{icon:e,size:24}),(0,u.jsx)(r.FlexItem,{children:t})]}),!e&&t]})}function ge(e){return(0,u.jsx)(r.Navigator.Button,{as:ce,...e})}function pe(){const{editEntityRecord:e}=(0,l.useDispatch)(T.store),{globalStylesId:t,record:n}=(0,l.useSelect)(e=>{const{__experimentalGetCurrentGlobalStylesId:t,getEditedEntityRecord:n}=e(T.store),o=t?t():void 0;return{globalStylesId:o,record:o?n("root","globalStyles",o):void 0}},[]),o=n?.settings,s=(0,c.useMemo)(()=>({typography:{fontFamilies:n?.settings?.typography?.fontFamilies||{},elements:n?.styles?.elements||{}}}),[n?.settings?.typography?.fontFamilies,n?.styles?.elements]);return{settings:o,globalStyles:s,updateTypography:async(s,i)=>{if(!t||!o)return!1;try{return e("root","globalStyles",t,{styles:{...n?.styles||{},blocks:{...n?.styles?.blocks||{},"core/heading":{...n?.styles?.blocks?.["core/heading"]||{},typography:{...n?.styles?.blocks?.["core/heading"]?.typography||{},fontFamily:s}}},typography:{...n?.styles?.typography||{},fontFamily:i},elements:{...n?.styles?.elements||{},heading:{...n?.styles?.elements?.heading||{},typography:{...n?.styles?.elements?.heading?.typography||{},fontFamily:s}}}}}),!0}catch(e){return!1}}}}const ue=(e,t)=>{const n=e?.find(e=>e.slug===t);return n?.color||null},me=e=>e?"string"==typeof e&&e.startsWith("var:preset|font-family|")?"system"===e.replace("var:preset|font-family|","")?"system-ui, sans-serif":"inherit":e:"inherit";function he(){const{settings:e}=V(),{globalStyles:t}=pe(),n=e?.color?.palette?.theme||[],o=ue(n,"base")||"#ffffff",s=ue(n,"contrast")||"#000000",i=ue(n,"accent_2")||"#1a4548",a=ue(n,"accent_5")||"#3e7276",r={backgroundColor:o,color:s},l={fontFamily:me(t?.typography?.elements?.heading?.typography?.fontFamily)||"serif",color:s},d={fontFamily:me(t?.typography?.fontFamilies)||"sans-serif",color:s};return(0,u.jsxs)("div",{className:"nfd-design-studio-style-preview",style:r,children:[(0,u.jsx)("div",{className:"nfd-design-studio-style-preview-text",children:(0,u.jsxs)("h2",{style:l,children:["A",(0,u.jsx)("span",{style:d,children:"a"})]})}),(0,u.jsxs)("div",{className:"nfd-design-studio-style-preview-dots",children:[(0,u.jsx)("div",{className:"nfd-design-studio-style-preview-dot",style:{backgroundColor:i},"aria-label":(0,g.__)("Primary color","wp-module-onboarding")}),(0,u.jsx)("div",{className:"nfd-design-studio-style-preview-dot",style:{backgroundColor:a},"aria-label":(0,g.__)("Secondary color","wp-module-onboarding")})]})]})}function ye(){return(0,u.jsx)(r.Card,{size:"small",isBorderless:!0,className:"nfd-design-studio-screen-root",isRounded:!1,children:(0,u.jsx)(r.CardBody,{children:(0,u.jsxs)(r.__experimentalVStack,{spacing:4,children:[(0,u.jsx)(r.Card,{className:"edit-site-global-styles-screen-root__active-style-tile",children:(0,u.jsx)(r.CardMedia,{className:"edit-site-global-styles-screen-root__active-style-tile-preview",children:(0,u.jsx)(he,{})})}),(0,u.jsxs)(r.__experimentalItemGroup,{children:[(0,u.jsx)(ge,{icon:re,path:"/logo",children:(0,g.__)("Logo","wp-plugin-bluehost")}),(0,u.jsx)(ge,{icon:le,path:"/colors",children:(0,g.__)("Colors","wp-plugin-bluehost")}),(0,u.jsx)(ge,{icon:de,path:"/typography",children:(0,g.__)("Typography","wp-plugin-bluehost")})]})]})})})}const fe=(e,t)=>e?e.includes('"')||e.includes(",")?e:`"${e}", ${t}`:t,xe=({page:e=1,perPage:t=10}={})=>{const[n,o]=(0,c.useState)([]),[s,i]=(0,c.useState)(!0),[a,r]=(0,c.useState)(null),[l,d]=(0,c.useState)(null),[g,p]=(0,c.useState)({totalItems:0,totalPages:0,currentPage:e,perPage:t}),{updateTypography:u}=pe(),m=async()=>{try{i(!0),r(null);const n=await O({type:"font-pairs",page:e,perPage:t});o(n.data.map((e,t)=>{const n=e.font_heading_name||"serif",o=e.font_content_name||"sans-serif",s=e.name||`${n.replace(/\s+/g,"-")}-${o.replace(/\s+/g,"-")}-${t}`;return{name:s,id:e.id||`font-pair-${t}`,title:e.title||`${n} & ${o}`,headingFontFamily:fe(e.font_heading_name,"serif"),bodyFontFamily:fe(e.font_content_name,"sans-serif"),aesthetics:e.aesthetics||s,originalData:e}})),p({totalItems:n.pagination.total_items,totalPages:n.pagination.total_pages,currentPage:n.pagination.current_page,perPage:n.pagination.per_page})}catch(e){r(e.message)}finally{i(!1)}};return(0,c.useEffect)(()=>{m()},[e,t]),{fontPairings:n,isLoading:s,error:a,pagination:g,selectedStyle:l,handleSelectStyle:async e=>{d(e.id);const t=await u(e.headingFontFamily,e.bodyFontFamily);return t||d(null),t},refetch:()=>{i(!0),m()}}},be=(0,c.forwardRef)(function({icon:e,size:t=24,...n},o){return(0,c.cloneElement)(e,{width:t,height:t,...n,ref:o})}),_e=(0,u.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(p.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})});function we({headingFontFamily:e,bodyFontFamily:t,tooltipText:n,onClick:o,isSelected:s}){const[i,a]=(0,c.useState)(!1),r=async()=>{o&&!i&&(a(!0),o(),a(!1))};return(0,u.jsxs)("div",{className:`nfd-typography-preview-item ${s?"is-selected":""} ${i?"is-updating":""}`,onClick:r,role:"button",tabIndex:"0",onKeyDown:e=>{!o||"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),r())},children:[(0,u.jsx)("p",{className:"nfd-typography-preview-heading",style:{fontFamily:e},children:(0,g.__)("Heading","wp-module-onboardingg")}),(0,u.jsx)("p",{className:"nfd-typography-preview-body",style:{fontFamily:t},children:(0,g.__)("Paragraph text in your chosen font.","wp-module-onboarding")}),(0,u.jsx)("div",{className:"nfd-typography-preview-label",children:n}),s&&(0,u.jsx)("span",{className:"nfd-typography-selected-indicator",children:(0,u.jsx)(be,{icon:_e,size:20})})]})}function ve({selectedStyle:e,onSelectStyle:t}){const{fontPairings:n,isLoading:o,error:s}=xe();return o?(0,u.jsx)(r.Spinner,{}):s?(0,u.jsxs)("div",{children:["Error loading font pairings: ",s]}):(0,u.jsx)(r.__experimentalVStack,{spacing:4,children:n.map(n=>{return(0,u.jsx)(we,{headingFontFamily:n.headingFontFamily,bodyFontFamily:n.bodyFontFamily,tooltipText:`${o=n.aesthetics,o?o.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" "):""} • ${n.title}`,onClick:()=>t(n),isSelected:e===n.id},n.id);var o})})}function je(){const{fontPairings:e,selectedStyle:t,handleSelectStyle:n}=xe();return 0===e.length?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(W,{title:(0,g.__)("Typography"),description:(0,g.__)("Select a font style.","wp-module-onboarding")}),(0,u.jsx)("div",{className:"edit-site-global-styles-sidebar__content",children:(0,u.jsxs)("div",{className:"nfd-design-studio-sidebar__section",children:[(0,u.jsx)(r.__experimentalHeading,{level:3,children:(0,g.__)("Font Pairings","wp-module-onboarding")}),(0,u.jsx)("p",{children:(0,g.__)("No font pairings available.","wp-module-onboarding")})]})})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(W,{title:(0,g.__)("Typography"),description:(0,g.__)("Choose a font pairing that reflects your brand's personality. Each pairing is carefully selected to enhance readability and visual appeal across your site.","wp-module-onboarding")}),(0,u.jsx)("div",{className:"edit-site-global-styles-sidebar__content",children:(0,u.jsxs)("div",{className:"nfd-design-studio-sidebar__section",children:[(0,u.jsx)(r.__experimentalHeading,{level:3,children:(0,g.__)("Font Pairings","wp-module-onboarding")}),(0,u.jsx)(ve,{fontPairings:e,selectedStyle:t,onSelectStyle:n})]})})]})}const Se=(0,u.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24",children:(0,u.jsx)(p.Path,{d:"M20 10c0-5.51-4.49-10-10-10C4.48 0 0 4.49 0 10c0 5.52 4.48 10 10 10 5.51 0 10-4.48 10-10zM7.78 15.37L4.37 6.22c.55-.02 1.17-.08 1.17-.08.5-.06.44-1.13-.06-1.11 0 0-1.45.11-2.37.11-.18 0-.37 0-.58-.01C4.12 2.69 6.87 1.11 10 1.11c2.33 0 4.45.87 6.05 2.34-.68-.11-1.65.39-1.65 1.58 0 .74.45 1.36.9 2.1.35.61.55 1.36.55 2.46 0 1.49-1.4 5-1.4 5l-3.03-8.37c.54-.02.82-.17.82-.17.5-.05.44-1.25-.06-1.22 0 0-1.44.12-2.38.12-.87 0-2.33-.12-2.33-.12-.5-.03-.56 1.2-.06 1.22l.92.08 1.26 3.41zM17.41 10c.24-.64.74-1.87.43-4.25.7 1.29 1.05 2.71 1.05 4.25 0 3.29-1.73 6.24-4.4 7.78.97-2.59 1.94-5.2 2.92-7.78zM6.1 18.09C3.12 16.65 1.11 13.53 1.11 10c0-1.3.23-2.48.72-3.59C3.25 10.3 4.67 14.2 6.1 18.09zm4.03-6.63l2.58 6.98c-.86.29-1.76.45-2.71.45-.79 0-1.57-.11-2.29-.33.81-2.38 1.62-4.74 2.42-7.1z"})}),Ce=()=>{const[e,t]=(0,c.useState)(null);(0,c.useEffect)(()=>{const n=()=>{const e=document.querySelector("#site-editor");if(!e)return;const n=e.querySelector(".editor-header .editor-header__settings");if(!n)return;const o=n.querySelector(".nfd-design-studio-dashboard-button");if(o)return void t(o);const s=document.createElement("div");s.className="nfd-design-studio-dashboard-button";const i=n.querySelector(".editor-post-publish-button__button");i&&i.parentNode?i.parentNode.insertBefore(s,i):n.appendChild(s),t(s)};n();const o=new MutationObserver(()=>{setTimeout(()=>{e||n()},100)});return o.observe(document.body,{childList:!0,subtree:!0}),()=>{o.disconnect(),e&&e.parentNode&&e.parentNode.removeChild(e)}},[]);const n=(0,u.jsx)(r.Button,{variant:"secondary",size:"compact",icon:Se,disabled:!1,href:(()=>{const e=window.NewfoldRuntime?.admin_url;if(e){const t=window.NewfoldRuntime?.context?.brand?.name;return t?`${e}admin.php?page=${t}&referrer=nfd-design-studio`:e}return"/wp-admin/"})(),className:"nfd-design-studio-dashboard-button",children:(0,g.__)("Dashboard")});return e?(0,c.createPortal)(n,e):null},Ne=()=>{const{setShowTemplate:e}=(()=>{const{setRenderingMode:e}=(0,l.useDispatch)(d.store),t=(0,l.useSelect)(e=>{const t=e(d.store);return t?.getRenderingMode?t.getRenderingMode():null},[]);return{setShowTemplate:()=>!(!e||"template-locked"===t||(e("template-locked"),0))}})(),[t,n]=(0,c.useState)(!1),{enableComplementaryArea:o}=(0,l.useDispatch)(D);return(0,c.useEffect)(()=>{(()=>{const e=new URLSearchParams(window.location.search).get("referrer");return B.includes(e)})()&&((()=>{const e=new URLSearchParams(window.location.search);if(!e.has(z)){e.set(z,"edit");const t=`${window.location.pathname}?${e.toString()}${window.location.hash}`;window.history.replaceState({},"",t)}})(),(()=>{const e=()=>{try{const e=document?.querySelectorAll('button[aria-label="Styles"], .edit-site-header-edit-mode button[aria-label="Styles"], .interface-pinned-items button[aria-label="Styles"]');if(e.forEach(e=>{e&&(e.style.display="none")}),!document?.getElementById("nfd-hide-global-styles-css")){const e=document?.createElement("style");e.id="nfd-hide-global-styles-css",e.innerHTML='\n\t                button[aria-label="Styles"],\n\t                .interface-pinned-items button[aria-label="Styles"],\n\t                #edit-site\\:global-styles,\n\t                .interface-complementary-area[aria-label="Styles"],\n\t                .components-dropdown-menu__menu-item[aria-label="Styles"],\n\t                [aria-label="Styles panel"],\n\t                .edit-site-global-styles-sidebar,\n\t                button[aria-expanded="true"][aria-label="Styles"] {\n\t                    display: none !important;\n\t                }\n\t            ',document?.head.appendChild(e)}}catch(e){console.error("NFD Onboarding: Error hiding global styles",e)}};e();const t=setInterval(e,500);setTimeout(()=>clearInterval(t),1e4)})(),e(),n(!0))},[e]),(0,c.useEffect)(()=>{t&&((()=>{const e=['button[aria-label="Zoom out"]','button[aria-label="Zoom Out"]',".block-editor-zoom-out-button",".edit-site-visual-editor__zoom-dropdown button"];let t=null;for(const n of e)if(t=document.querySelector(n),t)break;t?t.click():setTimeout(()=>{const t=document.querySelector(e.join(", "));t&&t.click()},1500)})(),o("core","nfd-design-studio"))},[t,o]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(d.PluginSidebarMoreMenuItem,{target:"nfd-design-studio-sidebar",icon:m,children:(0,g.__)("Design Studio","wp-module-onboarding")}),(0,u.jsx)(d.PluginSidebar,{identifier:"nfd-design-studio",name:"nfd-design-studio-sidebar",title:(0,g.__)("Design Studio","wp-module-onboarding"),icon:m,className:"nfd-design-studio-sidebar",children:(0,u.jsx)("div",{className:"nfd-design-studio-sidebar__inner",children:(0,u.jsxs)(r.Navigator,{initialPath:"/",children:[(0,u.jsx)(r.Navigator.Screen,{path:"/",children:(0,u.jsx)(ye,{})}),(0,u.jsx)(r.Navigator.Screen,{path:"/typography",children:(0,u.jsx)(je,{})}),(0,u.jsx)(r.Navigator.Screen,{path:"/colors",children:(0,u.jsx)(Q,{})}),(0,u.jsx)(r.Navigator.Screen,{path:"/logo",children:(0,u.jsx)(ae,{})})]})})}),(0,u.jsx)(Ce,{})]})};i()(()=>{(0,a.registerPlugin)("nfd-design-studio",{render:Ne})}),((window.newfold=window.newfold||{}).Onboarding=window.newfold.Onboarding||{})["onboarding-design-studio"]=t})();